{% load static %}

<!-- 上傳頭像對話框 -->
<dialog class="dialog-backdrop" id="UploadAvatarDialog">
    <div class="dialog-container">
        <div class="dialog-content">
            <div class="dialog-header">
                <h2 class="dialog-title">修改頭像</h2>
                <button type="button" class="close-btn" id="closeUploadAvatarBtn">&times;</button>
            </div>
            <form id="uploadAvatarForm" method="post" action="{% url 'upload_avatar_api' %}" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="avatar-content">
                    <img class="avatar-preview" id="avatarPreview" src="{{ user_info.photo.url|default:'/static/avatars/avatar_default.png' }}" alt="用戶頭像">
                    <div class="upload-avatar-input">
                        <input type="file" class="upload-avatar-btn" id="avatarFile" name="avatar_file" accept="image/*" onchange="previewAvatar(this);" required>
                    </div>
                </div>
                <div id="uploadAvatarFormErrors" class="form-errors"></div>
                <div class="dialog-actions">
                    <button type="button" class="cancel-btn" id="closeUploadAvatar">取消</button>
                    <button type="submit" class="save-btn">確認上傳</button>
                </div>
            </form>
        </div>
    </div>
</dialog>